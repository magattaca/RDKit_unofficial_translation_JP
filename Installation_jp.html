

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ja" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ja" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>インストールの仕方 &mdash; RDKit_unofficial_translation_JP 1.00 ドキュメント</title>















  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" />
    <link rel="next" title="PythonでRDKitを始めよう" href="Getting_Started_with_RDKit_in_Python_jp.html" />
    <link rel="prev" title="RDKitの概要" href="An_overview_of_the_RDKit_jp.html" />





  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">


  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">



            <a href="index.html" class="icon icon-home"> RDKit_unofficial_translation_JP



          </a>




              <div class="version">
                1.00
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">






              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction_jp.html">このサイトの使い方（日本語版序文）</a></li>
<li class="toctree-l1"><a class="reference internal" href="An_overview_of_the_RDKit_jp.html">RDKitの概要</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">インストールの仕方</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#anaconda-python">anaconda pythonを使ったクロスプラットフォームな方法(最速のインストール方法)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anaconda">anacondaの紹介</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conda">condaを手にいれる方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#condardkit">Condaを使ってRDKitをインストールする方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#conda-forge">conda-forgeパッケージ</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Condaを使ってソースからビルドする方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#macos-10-12-sierra-python-3">macOS 10.12 (Sierra): Python 3環境</a></li>
<li class="toctree-l4"><a class="reference internal" href="#linux-x86-64-python-3">Linux x86_64: Python 3環境</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#condapostgresqlrdkit-postgresql">conda環境からPostgreSQLとRDKit PostgreSQLカートリッジを使ってインストールする方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linux-and-os-x">Linux and OS X</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">レポジトリからインストールする方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ubuntu-12-04">Ubuntu 12.04 とそれ以降のバージョン</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fedoracentosrhel">Fedora、CentOSとRHEL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#os-x">OS X</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id4">ソースからビルドする方法</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">ソースから前もって必要となるものをインストールする方法</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-the-rdkit">Building the RDKit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">ビルドの検証 (オプションですが、推奨します)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">発展的内容</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">よくある問題</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id13">必要条件</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14">オススメの追加項目</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rdkit">RDKitバイナリのインストール</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">ソースからのインストール</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id16">追加のソフトウェアのインストール</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">セットアップと準備</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">コマンドラインからのビルド（推奨の方法）</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">ビルドの検証（オプションですが、推奨します）</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id20">ライセンス</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Getting_Started_with_RDKit_in_Python_jp.html">PythonでRDKitを始めよう</a></li>
<li class="toctree-l1"><a class="reference internal" href="The_RDKit_Book_jp.html">The RDKit Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="RDKit_cookbook_jp.html">RDKitクックブック</a></li>
<li class="toctree-l1"><a class="reference internal" href="The_RDKit_database_cartridge_jp.html">RDKitデータベースカートリッジ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Backwards_incompatible_changes_jp.html">後方互換性の無い変更</a></li>
<li class="toctree-l1"><a class="reference internal" href="Supplementary_Text_jp.html">「PythonでRDKitを始めよう」日本語版補遺</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology_jp.html">訳語対応集</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" aria-label="top navigation">

          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RDKit_unofficial_translation_JP</a>

      </nav>


      <div class="wy-nav-content">

        <div class="rst-content">

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">

      <li><a href="index.html">Docs</a> &raquo;</li>

      <li>インストールの仕方</li>


      <li class="wy-breadcrumbs-aside">


            <a href="_sources/Installation_jp.rst.txt" rel="nofollow"> View page source</a>


      </li>

  </ul>


  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="id1">
<h1>インストールの仕方<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installation">Installation</a>]</p>
<p>以下は様々なインストール方法を多数示していますが、複雑さの度合いが異なります。</p>
<div class="section" id="anaconda-python">
<h2>anaconda pythonを使ったクロスプラットフォームな方法(最速のインストール方法)<a class="headerlink" href="#anaconda-python" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#cross-platform-under-anaconda-python-fastest-install">Cross-platform under anaconda python(fastest install)</a>]</p>
</div>
<div class="section" id="anaconda">
<h2>anacondaの紹介<a class="headerlink" href="#anaconda" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#introduction-to-anaconda">Introduction to anaconda</a>]</p>
<p>condaはオープンソースで、クロスプラットフォームのソフトウェアパッケージマネージャーです。
ソフトウェアコンポーネントのパッケージ化と配布をサポートしており、独立した実行環境内部でのインストールを管理します。
pipやvirtaulenvといくつかの類似性がありますが、より“Pythonに依存しない”形になるようデザインされていて、バイナリパッケージの配布と依存関係により適しています。</p>
</div>
<div class="section" id="conda">
<h2>condaを手にいれる方法<a class="headerlink" href="#conda" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#how-to-get-conda">How to get conda</a>]</p>
<p>condaを手に入れる最も簡単な方法は<a class="reference external" href="https://conda.io/docs/user-guide/install/index.html">Anaconda Python distribution</a>の一部分としてインストールすることです。
その他の方法として（少し使用方法が複雑になりますが）より小さく、必要なものに絞られた<a class="reference external" href="https://conda.io/miniconda.html">Miniconda</a>をインストールするという選択肢もあります。
condaのソースコードレポジトリは<a class="reference external" href="https://github.com/conda">github</a>で手に入ります。
追加のドキュメントもプロジェクトの<a class="reference external" href="https://conda.io/docs/">website</a>上で提供されています.</p>
<div class="section" id="condardkit">
<h3>Condaを使ってRDKitをインストールする方法<a class="headerlink" href="#condardkit" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#how-to-install-rdkit-with-conda">How to install RDKit with Conda</a>]</p>
<p>RDKitがインストールされた新しいconda環境を作るには、次のようなコマンドを一つ打ち込むだけでOKです:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>$ conda create -c rdkit -n my-rdkit-env rdkit
</pre></div>
</div>
<p>最後に、同じシェル上で相当するPythonインタープリターが利用可能になるように新しい環境をアクティベートする必要があります:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>$ source activate my-rdkit-env
</pre></div>
</div>
<p>もし、何らかの理由でうまくいかなかった場合は次を試してください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>$ cd [anaconda folder]/bin
$ source activate my-rdkit-env
</pre></div>
</div>
<p>Windowsユーザーは少し違うコマンドが必要です:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="o">&gt;</span> <span class="n">activate</span> <span class="n">my</span><span class="o">-</span><span class="n">rdkit</span><span class="o">-</span><span class="n">env</span>
</pre></div>
</div>
<div class="section" id="conda-forge">
<h4>conda-forgeパッケージ<a class="headerlink" href="#conda-forge" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#conda-forge-package">conda-forge package</a>]</p>
<p><a class="reference external" href="https://conda-forge.org/#about">conda-forge</a>のRDKitパッケージも利用可能です。
すでに他のconda-forgeパッケージを使っているユーザーにはもしかしたらより簡単なインストール方法かもしれません。
このパッケージは次のようにインストールすることができます:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>$ conda install -c conda-forge rdkit
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h3>Condaを使ってソースからビルドする方法<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#how-to-build-from-source-with-conda">How to bulid from source with Conda</a>]</p>
<p>condaを使ってソースからビルドする方法の詳細は、<a class="reference external" href="https://github.com/rdkit/conda-rdkit">conda-rdkit repository</a>を見てください。</p>
<div class="section" id="macos-10-12-sierra-python-3">
<h4>macOS 10.12 (Sierra): Python 3環境<a class="headerlink" href="#macos-10-12-sierra-python-3" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#macos-10-12-sierra-python-3-environment">macOS 10.12 (Sierra): Python 3 environment</a>]</p>
<p>次のコマンドでmacOS Sierra と Python3のための開発環境を作ることができます。
<a class="reference external" href="http://conda.pydata.org/miniconda.html">conda</a>からMiniconda3-latest-MacOSX-x86_64.shをダウンロードし次のコマンドを実行してください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="n">Miniconda3</span><span class="o">-</span><span class="n">latest</span><span class="o">-</span><span class="n">MacOSX</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">sh</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span> <span class="n">matplotlib</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">cmake</span> <span class="n">cairo</span> <span class="n">pillow</span> <span class="n">eigen</span> <span class="n">pkg</span><span class="o">-</span><span class="n">config</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">boost</span><span class="o">-</span><span class="n">cpp</span> <span class="n">boost</span> <span class="n">py</span><span class="o">-</span><span class="n">boost</span>
</pre></div>
</div>
<p>オプションとして、便利な開発用ツールとして、次のパッケージを付け足すこともできます:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">yapf</span><span class="o">==</span><span class="mf">0.11</span><span class="o">.</span><span class="mi">1</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">coverage</span><span class="o">==</span><span class="mf">3.7</span><span class="o">.</span><span class="mi">1</span>
</pre></div>
</div>
<p>そして、通常のビルドの方法を実施します。PYTHON_INCLUDE_DIRをcmakeコマンドにセットする必要があります。</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>PYROOT=&lt;path to miniconda3&gt;
cmake -DPYTHON_INCLUDE_DIR=$PYROOT/include/python3.6m  \
  -DRDK_BUILD_AVALON_SUPPORT=ON \
  -DRDK_BUILD_CAIRO_SUPPORT=ON \
  -DRDK_BUILD_INCHI_SUPPORT=ON \
  ..
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">make</span></code>と<code class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></code>が最後までうまくいったら、次のコマンドでテストを行ってください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>RDBASE=$RDBASE DYLD_FALLBACK_LIBRARY_PATH=&quot;$RDBASE/lib:$PYROOT/lib&quot; PYTHONPATH=$RDBASE ctest
</pre></div>
</div>
<p>これは最近のmacOSバージョンに導入された<a class="reference external" href="https://en.wikipedia.org/wiki/System_Integrity_Protection">System Integrity Protection SIP</a>のため、必要となります。</p>
</div>
<div class="section" id="linux-x86-64-python-3">
<h4>Linux x86_64: Python 3環境<a class="headerlink" href="#linux-x86-64-python-3" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#linux-x86-64-python-3-environment">Linux x86_64: Python 3 environment</a>]</p>
<p>次のコマンドでLinux x86_64 と Python3のための開発環境を作ることができます。</p>
<p>まずは<a class="reference external" href="https://www.anaconda.com/download/#linux">Anaconda</a>から最新のanacondaインストーラーをダウンロードしてください。
そして、必要なパッケージをインストールしてください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="n">Anaconda3</span><span class="o">-</span><span class="mf">5.2</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">x86_64</span><span class="o">.</span><span class="n">sh</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">cmake</span> <span class="n">cairo</span> <span class="n">pillow</span> <span class="n">eigen</span> <span class="n">pkg</span><span class="o">-</span><span class="n">config</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">boost</span><span class="o">-</span><span class="n">cpp</span> <span class="n">boost</span> <span class="n">py</span><span class="o">-</span><span class="n">boost</span>
</pre></div>
</div>
<p>Numpyとmatplotlibはanacondaの基本インストールの一部としてすでに含まれています。
最新のboostライブラリが、現在、anacondaのデフォルトよりも新しいGLIBICバージョンを使ってビルドされているため、
より新しいバージョンにアップデートする必要があります:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">gxx_linux</span><span class="o">-</span><span class="mi">64</span>
</pre></div>
</div>
<p>この時点で、ビルドしたい場所にRDKitレポジトリをクローンし、ビルドを開始できる必要があります。anacondaがNumpyパッケージの中に隠してしまうので、
RDKitがnumpyのヘッダを見つけられるようにパスを示す必要があります:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rdkit</span><span class="o">/</span><span class="n">rdkit</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">rdkit</span>
<span class="n">mkdir</span> <span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">build</span>
<span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">DPy_ENABLE_SHARED</span><span class="o">=</span><span class="mi">1</span> \
    <span class="o">-</span><span class="n">DRDK_INSTALL_INTREE</span><span class="o">=</span><span class="n">ON</span> \
    <span class="o">-</span><span class="n">DRDK_INSTALL_STATIC_LIBS</span><span class="o">=</span><span class="n">OFF</span> \
    <span class="o">-</span><span class="n">DRDK_BUILD_CPP_TESTS</span><span class="o">=</span><span class="n">ON</span> \
    <span class="o">-</span><span class="n">DPYTHON_NUMPY_INCLUDE_PATH</span><span class="o">=</span><span class="s2">&quot;$CONDA_PREFIX/lib/python3.6/site-packages/numpy/core/include&quot;</span>
</pre></div>
</div>
<p>最後に、<code class="docutils literal"><span class="pre">make</span></code>、<code class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></code>、<code class="docutils literal"><span class="pre">ctest</span></code>を実行してください。</p>
</div>
</div>
<div class="section" id="condapostgresqlrdkit-postgresql">
<h3>conda環境からPostgreSQLとRDKit PostgreSQLカートリッジを使ってインストールする方法<a class="headerlink" href="#condapostgresqlrdkit-postgresql" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installing-and-using-postgresql-and-the-rdkit-postgresql-cartridge-from-a-conda-environment">Installing and using PostgreSQL and the RDKit PostgreSQL cartridge from a conda environment</a>]</p>
<p>conda pythonディストリビューションがシステムのPythonのバージョンと異なるため、
PostgreSQLとPostgreSQL pythonクライアントはcondaを介してインストールするのが最も簡単です。</p>
<p>環境をアクティベートした状態で、次のコマンドを実行するだけです:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">rdkit</span> <span class="n">rdkit</span><span class="o">-</span><span class="n">postgresql</span>
</pre></div>
</div>
<p>condaパッケージのPostgreSQLバージョンは<code class="docutils literal"><span class="pre">[conda</span> <span class="pre">folder]/envs/my-rdkit-env/bin</span></code>の中にある
initdbコマンドを走らせて初期化する必要があります：</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">conda</span> <span class="n">folder</span><span class="p">]</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">rdkit</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">initdb</span> <span class="o">-</span><span class="n">D</span> <span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">where</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">should</span><span class="o">/</span><span class="n">be</span><span class="o">/</span><span class="n">stored</span>
</pre></div>
</div>
<p>初期化後、ターミナルから次のコマンドでPostgreSQLを実行することができます:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">conda</span> <span class="n">folder</span><span class="p">]</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">rdkit</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">postgres</span> <span class="o">-</span><span class="n">D</span> <span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">where</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">should</span><span class="o">/</span><span class="n">be</span><span class="o">/</span><span class="n">stored</span>
</pre></div>
</div>
<p>多くの場合、代わりにdaemonとしてPostgreSQLを走らせる必要があると思います。これを行う一つの方法はsupervisorを使うことです。
より詳細な情報とsupervisorのインストール方法は<a class="reference external" href="http://supervisord.org/">ここ</a>で手に入ります。
必要なコンフィギュレーションファイルは以下ようなものを見てください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">program</span><span class="p">:</span><span class="n">postgresql</span><span class="p">]</span>
<span class="n">command</span><span class="o">=</span><span class="p">[</span><span class="n">conda</span> <span class="n">folder</span><span class="p">]</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">rdkit</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">postgres</span> <span class="o">-</span><span class="n">D</span> <span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">where</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">should</span><span class="o">/</span><span class="n">be</span><span class="o">/</span><span class="n">stored</span>
<span class="n">user</span><span class="o">=</span><span class="p">[</span><span class="n">your</span> <span class="n">username</span><span class="p">]</span>
<span class="n">autorestart</span><span class="o">=</span><span class="n">true</span>
</pre></div>
</div>
<p>PostgreSQLが起動し、走り始めたら、conda環境をアクティベートすれば、通常のPostgreSQLコマンドは全て実行可能となります。
したがってデータベースを作るには次を実行してください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">createdb</span> <span class="n">my_rdkit_db</span>
<span class="n">psql</span> <span class="n">my_rdkit_db</span>
<span class="c1"># create extension rdkit;</span>
</pre></div>
</div>
<p>もし異なる環境でPostgreSQLを複数インストールして使おうとしているなら、<a class="reference external" href="https://opensourcedbms.com/dbms/running-multiple-postgresql-9-2-instances-on-one-server-in-centos-6rhel-6fedora/">PostgreSQL configファイルを編集</a>して、
異なるpidファイルとunixソケット、およびポートをセットアップする必要があります。
上記のコンフィギュレーションの場合、これらのファイルは<code class="docutils literal"><span class="pre">/folder/where/data/should/be/stored</span></code>で見つけることができます。</p>
</div>
</div>
<div class="section" id="linux-and-os-x">
<h2>Linux and OS X<a class="headerlink" href="#linux-and-os-x" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#linux-and-os-x">Linux and OS X</a>]</p>
<div class="section" id="id3">
<h3>レポジトリからインストールする方法<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installation-from-repositories">Installation from repositories</a>]</p>
<div class="section" id="ubuntu-12-04">
<h4>Ubuntu 12.04 とそれ以降のバージョン<a class="headerlink" href="#ubuntu-12-04" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#ubuntu-12-04-and-later">Ubuntu 12.04 and later</a>]</p>
<p>Debichemチームの努力のおかげで、RDKitはUbuntuレポジトリを介して手に入れることができます。インストールするには次を実行してください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">rdkit</span> <span class="n">librdkit1</span> <span class="n">rdkit</span><span class="o">-</span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="section" id="fedoracentosrhel">
<h4>Fedora、CentOSとRHEL<a class="headerlink" href="#fedoracentosrhel" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#fedora-centos-and-rhel">Fedora, CentOS, and RHEL</a>]</p>
<p>Gianluca Sfornaのおかげで、RDKitのためのバイナリRPMが公式のFedoraレポジトリの一部となっています:
<a class="reference external" href="https://admin.fedoraproject.org/pkgdb/package/rpms/rdkit/">https://admin.fedoraproject.org/pkgdb/package/rpms/rdkit/</a></p>
</div>
<div class="section" id="os-x">
<h4>OS X<a class="headerlink" href="#os-x" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#os-x">OS X</a>]</p>
<p>Eddie CaoがRDKitを簡単にビルドするのに使うことができるhomebrewのフォーミュラを作りました:
<a class="reference external" href="https://github.com/rdkit/homebrew-rdkit">https://github.com/rdkit/homebrew-rdkit</a></p>
</div>
</div>
<div class="section" id="id4">
<h3>ソースからビルドする方法<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#building-from-source">Building from Source</a>]</p>
<p><code class="docutils literal"><span class="pre">2018_03</span></code>リリースから、RDKitのコアとなるC++コードはモダンなC++で書かれています。このリリースの場合C++11です。
つまり、ビルドするのに使うコパイラとして古いものを使うことが完全にできなくなったということです。最低限のテスト済みのバージョンは次のものです:</p>
<ul class="simple">
<li>g++ v4.8: SLNパーサーコードはv4.8でビルドすることができないことに注意してください。古いコンパイラが使われると自動的に無効にされます。</li>
<li>clang v3.9: もっと古いバージョンも機能するかもしれませんが試していません。</li>
<li>Visual Studio 2015: もっと古いバージョンも機能するかもしれませんが試していません。</li>
</ul>
<div class="section" id="id5">
<h4>ソースから前もって必要となるものをインストールする方法<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installing-prerequisites-from-source">Installing prerequisites from source</a>]</p>
<ul>
<li><p class="first">必要なパッケージ:</p>
</li>
<li><p class="first">cmake。version
3.1（以上）が必要です。Linuxディストリビューションが適したパーッケージを持っていなければhttp://www.cmake.org
を参照してください。</p>
</li>
<li><p class="first">Pythonラッパーを使おうと思っているなら次が必要です</p>
<ul>
<li><p class="first">Pythonヘッダ。おそらくLinuxディストリビューションにpython-devパッケージ(あるいはそれが必要とするものを何でも）をインストールする必要があることを意味します。</p>
</li>
<li><p class="first">sqlite3。共有ライブラリも必要です。sqlite3-devパッケージをインストールする必要が有るかもしれません。</p>
</li>
<li><p class="first">Numpy
(<a class="reference external" href="http://www.scipy.org/NumPy">http://www.scipy.org/NumPy</a>)をインストールしている必要があります。</p>
<blockquote>
<div><div class="line-block">
<div class="line"><strong>注意</strong></div>
<div class="line"><br /></div>
<div class="line">OS XでXCode4を使ってビルドするには、XCode4に付随するnumpyのバージョンに問題があるようです。応急処置の方法は下のセクション(FAQセクション)を参照してください。</div>
</div>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="section" id="boost">
<h5>Boostのインストール<a class="headerlink" href="#boost" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installing-boost">Installing Boost</a>]</p>
<p>linxusディストリビューションに、Pythonとシリアライズ化ライブラリを含む、バージョン1.58以上のboost-develパッケージがあれば次のステップは必要ありません。</p>
<blockquote>
<div><div class="line-block">
<div class="line"><strong>注意</strong></div>
<div class="line"><br /></div>
<div class="line">プレインストールされたboostライブラリのバージョンがある状態で、自分のバージョンを使いたい場合はコードをビルドする際に気をつけてください。我々は少なくとも一つ、Fedoraシステム上で、ユーザーがインストールしたバージョンのboostを使ってcmakeでコンパイルし、システムのバージョンにリンクさせた、という事例を知っていますが、この時はセグメンテーションフォールトになりました。応急処置の方法は下のセクション(FAQセクション)を参照してください。</div>
</div>
</div></blockquote>
<ul class="simple">
<li><a class="reference external" href="http://www.boost.org/">boostのウェブサイト</a>からboostのソースディストリビューションをダウンロード</li>
<li>マシンからソースを取得する（例えば<code class="docutils literal"><span class="pre">/usr/local/src/boost_1_58_0</span></code>）</li>
<li>必要なboostライブラリをビルドする。boostのサイトに<a class="reference external" href="http://www.boost.org/doc/libs/1_58_0/more/getting_started/index.html">詳細な説明</a>がありますが、全体の流れは次のようになります：</li>
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">\$BOOST</span></code></li>
<li>Pythonラッパーを使いたい場合は:<code class="docutils literal"><span class="pre">./bootstrap.sh</span> <span class="pre">--with-libraries=python,serialization</span></code></li>
<li>Pythonラッパーを使わない場合は:<code class="docutils literal"><span class="pre">./bootstrap.sh</span> <span class="pre">--with-libraries=serialization</span></code></li>
<li><code class="docutils literal"><span class="pre">./b2</span> <span class="pre">install</span></code></li>
</ul>
<p>このステップで問題が生じた場合はboostの<a class="reference external" href="http://www.boost.org/more/getting_started/unix-variants.html">インストールマニュアル</a>を参照してください。</p>
</div>
</div>
<div class="section" id="building-the-rdkit">
<h4>Building the RDKit<a class="headerlink" href="#building-the-rdkit" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#building-the-rdkit">Building the RDKit</a>]</p>
<p>ソースを取得します。ここではtar.gzを使っていますがgitを使うこともできます。</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">rdkit</span><span class="o">/</span><span class="n">rdkit</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">Release_XXXX_XX_X</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<ul class="simple">
<li>あらかじめ必要なものがインストールされているか確認しておいてください</li>
<li>環境変数:<ul>
<li>RDBASE: RDKitディストリビューションのルートディレクトリ(例 ~/RDKit)</li>
<li><em>Linux:</em> LD_LIBRARY_PATH:
$RDBASE/libとboost共有ライブラリがインストールされている場所が確実に含まれるようにしてください</li>
<li><em>OS X:</em> DYLD_LIBRARY_PATH:
$RDBASE/libとboost共有ライブラリがインストールされている場所が確実に含まれるようにしてください</li>
<li>Pythonラッパーを使おうと思っているなら次が必要です:
-  PYTHONPATH: $RDBASEを含むことを確認してください</li>
</ul>
</li>
<li>ビルド:</li>
<li>$RDBASE に cd</li>
<li><code class="docutils literal"><span class="pre">mkdir</span> <span class="pre">build</span></code></li>
<li><code class="docutils literal"><span class="pre">cd</span> <span class="pre">build</span></code></li>
<li><code class="docutils literal"><span class="pre">cmake</span> <span class="pre">..</span></code>: デフォルトのバージョンではないPythonを指定する必要がある場合か、標準的ではない場所にboostがある場合は、ビルドを設定する際に下のセクションを参照してください</li>
<li><code class="docutils literal"><span class="pre">make</span></code>:（デフォルトでは）これで全てのライブラリとリグレッションテスト、ラッパーをビルドされます。</li>
<li><code class="docutils literal"><span class="pre">make</span> <span class="pre">install</span></code></li>
</ul>
<p>FAQと解決方法のリストは下を見てください。</p>
</div>
<div class="section" id="id6">
<h4>ビルドの検証 (オプションですが、推奨します)<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#testing-the-build-optional-but-recommended">Testing the build (optional, but recomended)</a>]</p>
<ul class="simple">
<li>$RDBASE/build にcd、次に<code class="docutils literal"><span class="pre">ctest</span></code>を実行</li>
<li>これでおしまい！</li>
</ul>
</div>
<div class="section" id="id7">
<h4>発展的内容<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#advanced">Advanced</a>]</p>
<div class="section" id="id8">
<h5>Boostのインストールの代わりとなるものを明示する<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#specifying-an-alternate-boost-installation">Specifying an alternate Boost installation</a>]</p>
<p>cmakeにboostライブラリとヘッダファイルの場所を教える必要があります:
boostを<code class="docutils literal"><span class="pre">/opt/local</span></code>においている場合、cmakeの呼び出しは次のようになります:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DBOOST_ROOT</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">local</span> <span class="o">..</span>
</pre></div>
</div>
<p>システムがインストールしたboostがあるシステム上で、自分のboostを使っている場合は注意してください。
通常、cmakeコマンドに引数<code class="docutils literal"><span class="pre">-D</span> <span class="pre">Boost_NO_SYSTEM_PATHS=ON</span></code>も含めた方が良いです。</p>
</div>
<div class="section" id="python">
<h5>Pythonのインストールの代わりとなるものを明示する<a class="headerlink" href="#python" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#specifying-an-alternate-python-installation">Specifying an alternate Python installation</a>]</p>
<p>デフォルトでインストールされたPythonを使っていない場合は、リンクすべきPythonライブラリの場所とPythonヘッダファイルの場所をcmakeに教える必要があります。</p>
<p>これがサンプルコマンドラインです:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">D</span> <span class="n">PYTHON_LIBRARY</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">libpython2</span><span class="o">.</span><span class="mf">7.</span><span class="n">a</span> <span class="o">-</span><span class="n">D</span> <span class="n">PYTHON_INCLUDE_DIR</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span> <span class="o">-</span><span class="n">D</span> <span class="n">PYTHON_EXECUTABLE</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span> <span class="o">..</span>
</pre></div>
</div>
<p>正しいPythonが、あなたのPATHの最初のバージョンなら、<code class="docutils literal"><span class="pre">PYTHON_EXECUTABLE</span></code>の部分はオプションです。</p>
</div>
<div class="section" id="id9">
<h5>Pythonのラッパーを無効化する<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#disabling-the-python-wrappers">Disabling the Python wrappers</a>]</p>
<p>Pythonラッパーのビルドを完全に無効化することができます:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DRDK_BUILD_PYTHON_WRAPPERS</span><span class="o">=</span><span class="n">OFF</span> <span class="o">..</span>
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h5>オススメの追加項目<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#recommended-extras">Recommended extras</a>]</p>
<ul class="simple">
<li>cmakeコマンドラインに<code class="docutils literal"><span class="pre">-DRDK_BUILD_INCHI_SUPPORT=ON</span></code>引数を加えることでInChI文字列とInChIキーを生成するためのサポートを有効にすることができます。</li>
<li>cmakeコマンドラインに<code class="docutils literal"><span class="pre">-DRDK_BUILD_AVALON_SUPPORT=ON</span></code>引数を加えることで
Avalonツールキットのサポートを有効にすることができます。</li>
<li>構造描画のために高画質のPNGを生成できるようにしたいなら、cairoをシステムにインストールし、cairoのサポートを有効にしてRDKitをビルドする必要があります:<code class="docutils literal"><span class="pre">-DRDK_BUILD_CAIRO_SUPPORT=ON</span></code></li>
<li>3D記述子を使えるようにしたいなら、eigen3のコピーがインストールされている状態にする必要があります。ほとんどのOSは適切なパッケージを持っています。</li>
</ul>
</div>
<div class="section" id="java">
<h5>JAVAラッパーのビルド<a class="headerlink" href="#java" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#building-the-java-wrappers">Building the Java wrappers</a>]</p>
<p><em>追加で必要となるもの</em></p>
<ul class="simple">
<li>SWIG &gt;v2.0: <a class="reference external" href="http://www.swig.org">http://www.swig.org</a></li>
</ul>
<p><em>ビルドの方法</em></p>
<ul class="simple">
<li>cmakeを呼び出すときに<code class="docutils literal"><span class="pre">-D</span> <span class="pre">RDK_BUILD_SWIG_WRAPPERS=ON</span></code>を引数に加えてください。例えば:<code class="docutils literal"><span class="pre">cmake</span> <span class="pre">-D</span> <span class="pre">RDK_BUILD_SWIG_WRAPPERS=ON</span> <span class="pre">..</span></code></li>
<li>ビルドとインストールは通常makeを使います。
<code class="docutils literal"><span class="pre">$RDBASE/Code/JavaWrappers/gmwrapper</span></code>ディレクトリに3つの必要なファイルが入っています:
libGraphMolWrap.so (libGraphMolWrap.jnilib on OS X)とorg.RDKit.jar、そしてorg.RDKitDoc.jarです。</li>
</ul>
<p><em>ラッパーを使う方法</em></p>
<p>ラッパーを使うには3つのファイルが同じディレクトリに入っている必要があり、
そしてそれがCLASSPATHとjava.library.pathに含まれている必要があります。Jythonを使った例を示します:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>% CLASSPATH=$CLASSPATH:$RDBASE/Code/JavaWrappers/gmwrapper/org.RDKit.jar; jython -Djava.library.path=$RDBASE/Code/JavaWrappers/gmwrapper
Jython 2.2.1 on java1.6.0_20
Type &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; from org.RDKit import *
&gt;&gt;&gt; from java import lang
&gt;&gt;&gt; lang.System.loadLibrary(&#39;GraphMolWrap&#39;)
&gt;&gt;&gt; m = RWMol.MolFromSmiles(&#39;c1ccccc1&#39;)
&gt;&gt;&gt; m.getNumAtoms()
6L
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h5>オプションのパッケージ<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h5>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#optional-packages">optional packages</a>]</p>
<ul class="simple">
<li>RDKit
InChIのサポートをインストールしたいなら<code class="docutils literal"><span class="pre">$RDBASE/External/INCHI-API/README</span></code>のインストラクションに従ってください。</li>
<li>RDKit
Avalonツールキットのサポートをインストールしたいなら<code class="docutils literal"><span class="pre">$RDBASE/External/AvalonTool/README</span></code>のインストラクションに従ってください。</li>
<li>PostgreSQLカートリッジをビルドしインストールしたいなら<code class="docutils literal"><span class="pre">$RDBASE/Code/PgSQL/rdkit/README</span></code>のインストラクションに従ってください。</li>
</ul>
</div>
</div>
<div class="section" id="id12">
<h4>よくある問題<a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#frequently-encountered-problems">Frequently Encountered Problems</a>]</p>
<p>以下の各事例ではパスの特定の部分を<code class="docutils literal"><span class="pre">...</span></code>で置き換えています。</p>
<p><em>問題:</em></p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span>Linking CXX shared library libSLNParse.so
/usr/bin/ld: .../libboost_regex.a(cpp_regex_traits.o): relocation R_X86_64_32S against `std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;::_Rep::_S_empty_rep_storage&#39; can not be used when making a shared object; recompile with -fPIC
.../libboost_regex.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[2]: *** [Code/GraphMol/SLNParse/libSLNParse.so] Error 1
make[1]: *** [Code/GraphMol/SLNParse/CMakeFiles/SLNParse.dir/all] Error 2
make: *** [all] Error 2
</pre></div>
</div>
<p><em>解決方法:</em></p>
<p>cmakeを呼び出すときに次を引数に加えてください:<code class="docutils literal"><span class="pre">-DBoost_USE_STATIC_LIBS=OFF</span></code></p>
<p>さらに情報が欲しい場合はこちら：<a class="reference external" href="http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01119.html">http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01119.html</a></p>
<p><em>問題:</em></p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="o">.../</span><span class="n">Code</span><span class="o">/</span><span class="n">GraphMol</span><span class="o">/</span><span class="n">Wrap</span><span class="o">/</span><span class="n">EditableMol</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">114</span><span class="p">:</span>   <span class="n">instantiated</span> <span class="kn">from</span> <span class="nn">here</span>
<span class="o">.../</span><span class="n">boost</span><span class="o">/</span><span class="n">type_traits</span><span class="o">/</span><span class="n">detail</span><span class="o">/</span><span class="n">cv_traits_impl</span><span class="o">.</span><span class="n">hpp</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span> <span class="n">internal</span> <span class="n">compiler</span> <span class="n">error</span><span class="p">:</span> <span class="ow">in</span> <span class="n">make_rtl_for_nonlocal_decl</span><span class="p">,</span> <span class="n">at</span> <span class="n">cp</span><span class="o">/</span><span class="n">decl</span><span class="o">.</span><span class="n">c</span><span class="p">:</span><span class="mi">5067</span>

<span class="n">Please</span> <span class="n">submit</span> <span class="n">a</span> <span class="n">full</span> <span class="n">bug</span> <span class="n">report</span><span class="p">,</span> <span class="k">with</span> <span class="n">preprocessed</span> <span class="n">source</span> <span class="k">if</span> <span class="n">appropriate</span><span class="o">.</span> <span class="n">See</span> \<span class="o">&lt;</span><span class="n">URL</span><span class="p">:</span><span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">bugzilla</span><span class="o">.</span><span class="n">redhat</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">bugzilla</span><span class="o">&gt;</span>\<span class="o">&gt;</span> <span class="k">for</span> <span class="n">instructions</span><span class="o">.</span> <span class="n">Preprocessed</span> <span class="n">source</span> <span class="n">stored</span> <span class="n">into</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">ccgSaXge</span><span class="o">.</span><span class="n">out</span> <span class="n">file</span><span class="p">,</span> <span class="n">please</span> <span class="n">attach</span> <span class="n">this</span> <span class="n">to</span> <span class="n">your</span> <span class="n">bugreport</span><span class="o">.</span> <span class="n">make</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">**</span>\<span class="o">*</span> <span class="p">[</span><span class="n">Code</span><span class="o">/</span><span class="n">GraphMol</span><span class="o">/</span><span class="n">Wrap</span><span class="o">/</span><span class="n">CMakeFiles</span><span class="o">/</span><span class="n">rdchem</span><span class="o">.</span><span class="n">dir</span><span class="o">/</span><span class="n">EditableMol</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">o</span><span class="p">]</span> <span class="n">Error</span> <span class="mi">1</span> <span class="n">make</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span><span class="o">**</span>\<span class="o">*</span> <span class="p">[</span><span class="n">Code</span><span class="o">/</span><span class="n">GraphMol</span><span class="o">/</span><span class="n">Wrap</span><span class="o">/</span><span class="n">CMakeFiles</span><span class="o">/</span><span class="n">rdchem</span><span class="o">.</span><span class="n">dir</span><span class="o">/</span><span class="nb">all</span><span class="p">]</span> <span class="n">Error</span> <span class="mi">2</span> <span class="n">make</span><span class="p">:</span> <span class="o">*</span>\<span class="o">**</span> <span class="p">[</span><span class="nb">all</span><span class="p">]</span> <span class="n">Error</span> <span class="mi">2</span>
</pre></div>
</div>
<p><em>解決方法:</em></p>
<p><code class="docutils literal"><span class="pre">Code/GraphMol/Wrap/EditableMol.cpp</span></code>の一番上に<code class="docutils literal"><span class="pre">#define</span> <span class="pre">BOOST_PYTHON_NO_PY_SIGNATURES</span></code>を加えてください。</p>
<p>さらに情報が欲しい場合はこちら:
<a class="reference external" href="http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01178.html">http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01178.html</a></p>
<p><em>問題:</em></p>
<p>システムには<code class="docutils literal"><span class="pre">/usr/lib</span></code>にインストールされたバージョンのboostがあるが、RDKitにはより最新のものを使わせたい。</p>
<p><em>解決方法:</em></p>
<p><code class="docutils literal"><span class="pre">-D</span> <span class="pre">Boost_NO_SYSTEM_PATHS=ON</span></code>引数を渡すことで解決できます。</p>
<p><em>問題:</em></p>
<p>OS XでXCode4を使ってビルドする場合</p>
<p>XCode4とともに配布されているNumpyのバージョンによって問題が起きているように見えるので、新しいコピーをビルドする必要があります。</p>
<p><em>解決方法:</em></p>
<p>Numpyのコピーを手に入れて、次のようにroot:をroot:としてビルドしてください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">MACOSX_DEPLOYMENT_TARGET</span><span class="o">=</span><span class="mf">10.6</span>
<span class="n">export</span> <span class="n">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;-Wall -undefined dynamic_lookup -bundle -arch x86_64&quot;</span>
<span class="n">export</span> <span class="n">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-arch x86_64&quot;</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">gcc</span><span class="o">-</span><span class="mf">4.2</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">g</span><span class="o">++-</span><span class="mf">4.2</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
<span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<p>確実に新しいNumpyがビルドで使われるようにしてしてください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">PYTHON_NUMPY_INCLUDE_PATH</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">2.6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">numpy</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">include</span>
</pre></div>
</div>
<p>また、PYTHONPATHの最初になるようにしてください:</p>
<div class="code console highlight-default"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;/Library/Python/2.6/site-packages:$PYTHONPATH&quot;</span>
</pre></div>
</div>
<p>これで、安全にboostとRDKitをビルドすることができます。</p>
</div>
</div>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#windows">Windows</a>]</p>
<div class="section" id="id13">
<h3>必要条件<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#prerequisites">Prerequisites</a>]</p>
<ul class="simple">
<li>3.6+ (<a class="reference external" href="http://www.python.org/">http://www.python.org/</a>)</li>
<li>numpy （<a class="reference external" href="http://numpy.scipy.org/">http://numpy.scipy.org/</a> あるいは<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span></code>）。
win64用のバイナリはここで手に入る: <a class="reference external" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy">http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy</a></li>
<li>Pillow:（<a class="reference external" href="https://python-pillow.github.io/">https://python-pillow.github.io/</a>&gt; あるいは<code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">Pillow</span></code>）</li>
</ul>
<div class="section" id="id14">
<h4>オススメの追加項目<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#recommended-extras">Recommeded extras</a>]</p>
<ul class="simple">
<li>aggdraw:Pythonで高画質の描画を行うためのライブラリ。ダウンロードの方法はこちら:
<a class="reference external" href="http://effbot.org/zone/aggdraw-index.htm">http://effbot.org/zone/aggdraw-index.htm</a>
新しい描画コード（2008年5月時点)はaggdraw v1.2a3 でテストした。alpha labelにも関わらず、コードは安定していてかつ機能する。</li>
<li>matplotlib: Pythonから科学的なプロットを作成するためのライブラリ。
<a class="reference external" href="http://matplotlib.sourceforge.net/">http://matplotlib.sourceforge.net/</a></li>
<li>ipython :
Python（とそれ以上に多くのこと）のためのとても役に立つインタラクティブなシェル
<a class="reference external" href="http://ipython.scipy.org/dist/">http://ipython.scipy.org/dist/</a><ul>
<li>win32all: PythonのためのWindowsの拡張
<a class="reference external" href="http://sourceforge.net/projects/pywin32/">http://sourceforge.net/projects/pywin32/</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="rdkit">
<h3>RDKitバイナリのインストール<a class="headerlink" href="#rdkit" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installation-of-rdkit-binaries">Installation of RDKit binaries</a>]</p>
<ul class="simple">
<li>適切なWindows用のバイナリビルドを
<a class="reference external" href="https://github.com/rdkit/rdkit/releases">https://github.com/rdkit/rdkit/releases</a> から入手する</li>
<li>zipファイルをどこかから取り出す(i.e. <code class="docutils literal"><span class="pre">C:\</span></code>)。名前にスペースを入れないこと。</li>
<li>以下は<code class="docutils literal"><span class="pre">C:\RDKit_2015_09_2</span></code>にインストールされていると仮定して進める</li>
<li>次の環境変数を設定する：</li>
<li>RDBASE:<code class="docutils literal"><span class="pre">C:\RDKit_2015_09_2</span></code></li>
<li>PYTHONPATH:<code class="docutils literal"><span class="pre">%RDBASE%</span></code>もしすでにPYTHONPATHがあるなら、末尾に<code class="docutils literal"><span class="pre">;%RDBASE%</span></code>を付け足す。。</li>
<li>PATH:<code class="docutils literal"><span class="pre">;%RDBASE%\lib</span></code>を末尾に付け足す。</li>
</ul>
<p>Win7システムではDLLが見つからないことでトラブルに見舞われるかもしれません。
メーリングリストのスレッド(<a class="reference external" href="http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01632.html">http://www.mail-archive.com/rdkit-discuss&#64;lists.sourceforge.net/msg01632.html</a>)
を参照してください。必要なDLLはここからダウンロードできます: <a class="reference external" href="http://www.microsoft.com/en-us/download/details.aspx?id=5555">http://www.microsoft.com/en-us/download/details.aspx?id=5555</a></p>
</div>
<div class="section" id="id15">
<h3>ソースからのインストール<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#installation-from-source">Installation from source</a>]</p>
<div class="section" id="id16">
<h4>追加のソフトウェアのインストール<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#extra-software-to-install">Extra software to install</a>]</p>
<ul class="simple">
<li>Microsoft Visual C++ :
コミュニティバージョンに必要なものは全て揃っていて、無料でダウンロードすることができます(<a class="reference external" href="https://www.visualstudio.com/vs/community">https://www.visualstudio.com/vs/community</a>)。
大きなインストールになるので時間がかかります。RDKitはVisual Studio 2015と2017を使ってビルドされています、より最新のバージョンの方が良いでしょう。</li>
<li>cmake : (<a class="reference external" href="http://www.cmake.org/cmake/resources/software.html">http://www.cmake.org/cmake/resources/software.html</a>)
インストールする必要があります。</li>
<li>boost : boostライブラリのコンパイル済みのバージョンを <a class="reference external" href="http://sourceforge.net/projects/boost/files/boost-binaries/">http://sourceforge.net/projects/boost/files/boost-binaries/</a>
からダウンロートして使うことを強くお勧めします。インストーラーを実行するときに必要なバイナリライブラリはPythonとserializationだけです。
ソースからboostをインストールしたいなら、<a class="reference external" href="http://www.boost.org">http://www.boost.org</a> からコピーをダウンロードして、
ドキュメントの“Getting Started”セクションの指示に従ってください。
確実にライブラリとヘッダが<code class="docutils literal"><span class="pre">C:\boost</span></code>にインストールされるようにしてください。</li>
<li>a git client : <em>これはRDKitのdevelopment versionでビルドしようと思っている時だけ必要になります。</em>
<a class="reference external" href="http://git-scm.com/downloads">http://git-scm.com/downloads</a> からダウンロードすることができます。
gitはMicrosoft Visual Studio2015のオプションのアドオンとしても含まれています。</li>
</ul>
</div>
<div class="section" id="id17">
<h4>セットアップと準備<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#setup-and-preparation">Setup and Preparation</a>]</p>
<p>このセクションはPythonが<code class="docutils literal"><span class="pre">C:\Python27</span></code>に、boostライブラリが<code class="docutils literal"><span class="pre">C:\boost</span></code>にインストールされていて、
RDKitを<code class="docutils literal"><span class="pre">C:\RDKit</span></code>という名前のディレクトリからビルドしようとしていると仮定して進めます。
以上の条件のどれか一つでも違っているなら、対応するパスを変更してください。</p>
<ul class="simple">
<li>名前にスペースを含むパスにインストールしようとしているなら、確実に環境変数の定義に適切に引用を使うようにしてください。</li>
<li>RDKitのdevelopment
versionを使おうとしているなら、gitを使っている現在のRDKitのソースのコピーを手に入れてください。
コマンドラインクライアントを使っているなら、コマンドは<code class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/rdkit/rdkit.git</span> <span class="pre">C:\RDKit</span></code>です。</li>
<li>リリースバージョンのRDKitを使おうとしているなら、最新のリリースのコピーを手に入れ、<code class="docutils literal"><span class="pre">C:\RDKit</span></code>ディレクトリに取り出してください。</li>
<li>必要な環境変数を設定します:</li>
<li><code class="docutils literal"><span class="pre">RDBASE</span> <span class="pre">=</span> <span class="pre">C:\RDKit</span></code></li>
<li><code class="docutils literal"><span class="pre">C:\Python27</span></code>がPATHに入っていることを確認してください</li>
<li><code class="docutils literal"><span class="pre">C:\RDKit\lib</span></code>がPATHに入っていることを確認してください</li>
<li><code class="docutils literal"><span class="pre">C:\boost\lib</span></code> がPATHに入っていることを確認してください</li>
<li><code class="docutils literal"><span class="pre">C:\RDKit</span></code>がPYTHONPATHに入っていることを確認してください</li>
</ul>
</div>
<div class="section" id="id18">
<h4>コマンドラインからのビルド（推奨の方法）<a class="headerlink" href="#id18" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#building-from-the-command-line-recommended">Building from the command line (recommended)</a>]</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">C:\RDKit\build</span></code>ディレクトリを作ってそこにcdしてください</li>
<li>cmakeを実行してください。InChIとAvalonツールキットのソースをそれぞれInChI
TrustとSourceForgeレポジトリからダウンロードし、インストール済みのバージョンのPostgreSQLのためのPostgreSQL
カートリッジをビルドする、64bit版Windowsのための基本的なコマンドラインの例は次のようになります。
<code class="docutils literal"><span class="pre">cmake</span> <span class="pre">-DRDK_BUILD_PYTHON_WRAPPERS=ON</span> <span class="pre">-DBOOST_ROOT=C:/boost</span> <span class="pre">-DRDK_BUILD_INCHI_SUPPORT=ON</span> <span class="pre">-DRDK_BUILD_AVALON_SUPPORT=ON</span> <span class="pre">-DRDK_BUILD_PGSQL=ON</span> <span class="pre">-DPostgreSQL_ROOT=&quot;C:\Program</span> <span class="pre">Files\PostgreSQL\9.5&quot;</span> <span class="pre">-G&quot;Visual</span> <span class="pre">Studio</span> <span class="pre">14</span> <span class="pre">2015</span> <span class="pre">Win64&quot;</span> <span class="pre">..</span></code></li>
<li>コードをビルドしてください。コマンドラインの例は次のようになります:<code class="docutils literal"><span class="pre">C:/Windows/Microsoft.NET/Framework64/v4.0.30319/MSBuild.exe</span> <span class="pre">/m:4</span> <span class="pre">/p:Configuration=Release</span> <span class="pre">INSTALL.vcxproj</span></code></li>
<li>PostgreSQLサポートでビルドした場合、管理者権限でシェルを開き、PostgreSQLサービスをとめ、インストール用のスクリプト<code class="docutils literal"><span class="pre">pgsql_install.bat</span></code>を実行し、そしてPostgreSQLサービスを再起動する必要があります。
（より詳細には<code class="docutils literal"><span class="pre">%RDBASE%\Code\PgSQL\rdkit\README</span></code>を参照してください）:<ul>
<li><code class="docutils literal"><span class="pre">&quot;C:\Program</span> <span class="pre">Files\PostgreSQL\9.5\bin\pg_ctl.exe&quot;</span> <span class="pre">-N</span> <span class="pre">“postgresql-9.5”</span> <span class="pre">-D</span> <span class="pre">“C:\Program</span> <span class="pre">Files\PostgreSQL\9.5\data”</span> <span class="pre">-w</span> <span class="pre">stop</span></code></li>
<li><code class="docutils literal"><span class="pre">C:\RDKit\build\Code\PgSQL\rdkit\pgsql_install.bat</span></code></li>
<li><code class="docutils literal"><span class="pre">&quot;C:\Program</span> <span class="pre">Files\PostgreSQL\9.5\bin\pg_ctl.exe&quot;</span> <span class="pre">-N</span> <span class="pre">&quot;postgresql-9.5&quot;</span> <span class="pre">-D</span> <span class="pre">&quot;C:\Program</span> <span class="pre">Files\PostgreSQL\9.5\data&quot;</span> <span class="pre">-w</span> <span class="pre">start</span></code></li>
<li>PostgreSQLサービスを再起動する前に、RDKitをビルドする際に使ったBoostライブラリがシステムのPATHにあることを確認してください。さもないとPostgreSQLは<code class="docutils literal"><span class="pre">rdkit</span></code>の拡張を作るのに失敗し、次のような紛らわしいエラーメッセージを出します:<code class="docutils literal"><span class="pre">ERROR:</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">load</span> <span class="pre">library</span> <span class="pre">&quot;C:/Program</span> <span class="pre">Files/PostgreSQL/9.5/lib/rdkit.dll&quot;:</span> <span class="pre">The</span> <span class="pre">specified</span> <span class="pre">module</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">found.</span></code></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id19">
<h4>ビルドの検証（オプションですが、推奨します）<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#testing-the-build-optional-but-recommended">Testing the Build (optional, but recommended)</a>]</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">C:\RDKit\build</span></code>にcdし、ctestを実行してください。PostgreSQLサポート内部でビルドした場合は、現在のログインユーザーが、データベースの作成とスーパーユーザーの権限を持ったPostgreSQLユーザーである必要があることに注意してください。さもないとPostgreSQLのテストは失敗します。認証のための便利なオプションは、ctestを実行しているシェルの現在のログインユーザーのPostgreSQLパスワードに、<code class="docutils literal"><span class="pre">PGPASSWORD</span></code>環境変数をセットすることです。</li>
<li>これでおしまい</li>
</ul>
</div>
</div>
</div>
<div class="section" id="id20">
<h2>ライセンス<a class="headerlink" href="#id20" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>[<a class="reference external" href="https://www.rdkit.org/docs/Install.html#license">License</a>]</p>
<p>この文書の著作権は copyright (C) 2013-2018 by Greg Landrum に所属しています。</p>
<p>この文書はCreative Commons Attribution-ShareAlike 4.0 Licenseのもとでライセンスされています。
このライセンスを見るためには <a class="reference external" href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a> にアクセスするか、
Creative Commons, 543 Howard Street, 5th Floor, San Francisco, California, 94105, USA.　に手紙を送ってください。</p>
<p>このライセンスの意図はRDKitそのものの意図と似ています。
簡単に言えば“これを使ってなんでもやりたいことをやっていいですが、私たちの功績についても言及してください”</p>
</div>
</div>


           </div>

          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="Getting_Started_with_RDKit_in_Python_jp.html" class="btn btn-neutral float-right" title="PythonでRDKitを始めよう" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="An_overview_of_the_RDKit_jp.html" class="btn btn-neutral" title="RDKitの概要" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, anonymous

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>







      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.00',
              LANGUAGE:'ja',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>




  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
